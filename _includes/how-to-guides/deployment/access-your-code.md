## Private GitHub repositories

Cloud 66 offers a native integration with GitHub. When creating a new application, click on the *Deploy from Github* link and we will install the **Cloud 66 Deployments** GitHub application on your account. This gives us read-only access to the repositories you specify. 

### Adding or updating GitHub accounts

If you have access to multiple GitHub accounts or organizations, you will need to add each separately. To add more accounts or orgs:

1. Log into your Cloud 66 Dashboard
2. Click on your avatar (top right) and then *Account Settings*
3. Click on *External Services* in the **Settings** panel (on the left)
4. Click the *Configure GitHub app* link next to the GitHub app - you will be sent to GitHub to configure your access
5. Click on the name of the GitHub account or organization you wish to add or update
6. Select the required repositories (or the entire account / org)
7. Click *Authorize & Request* 
8. You will be redirected back to Cloud 66

<div class="notice"><p markdown="1">
ðŸ’¡ If the account or organization youâ€™ve added requires someone to approve access, you will need to get that approval before its repositories will be available via Cloud 66.
</p></div>


## Public repositories

For public Git repositories, you don't need to add the SSH key provided to your Git account. You simply need to provide the Git URL. This differs depending on provider.

### Public GitHub repos

To access public repositories on GitHub, you must use:

`https://github.com/<username>/<repository-name>.git`

GitHub no longer supports other URL formats for public repos.

### Other public repos

For **non-GitHub** providers you can use either:

`http://<git provider>/<username>/<repository>.git`  

or   

`git://<git provider>/<username>/<repository>.git`

This URL is often automatically generated by your Git provider.


#### Notice
<div class="notice notice-warning"><p>We only support <code>https://</code> for GitHub repos. For other providers please use <code>http://</code> or <code>git://</code></p></div>


## Private repositories

For Cloud 66 to access your private (non-GitHub) repositories (with read-only access), you first need to add the SSH key provided by Cloud 66 to your account with your git provider. To find this key:

1. Open your [Dashboard](https://app.cloud66.com/dashboard)
2. Click on your account avatar (top-right) and select *Account Settings*
3. Click on *Git Repo SSH Keys* in the **Settings** panel on the left
4. Copy the **Git public SSH Key** and add it to your Git repo provider

You can add this SSH key globally to your git provider by adding it to your **Account settings**, or allow access to a specific repository by adding it to that repository as a **deploy key**.

Once this is done, use a Git URL in the following format:

`git@<git provider>:<username>/<repository>.git`

### BitBucket example

#### Adding the SSH key globally
   
To add the SSH key globally: 

* Go to *View Profile*
* Click on *SSH keys* and then *Add key*. 
* Paste the key you copied from Maestro into the text box
* Click *Add key*

Once this is done, use a Git URL in the following format in the Cloud 66 UI:

`git@bitbucket.org:<username>/<repository>.git`

#### Adding the SSH key to a specific repository

To add the SSH key to a specific repository: 

* Access the Settings menu for that repository (top right)
* Click Deployment keys 
* Paste the key you copied from Maestro into the text box
* Click *Add key*

Once this is done, use a Git URL in the following format in the Cloud 66 UI:

`git@bitbucket.org:<username>/<repository>.git`

{% if include.product == 'rails' %}
## Querying git hashes

When we pull code from a git repo, we store the most recent commit hash in your applicationâ€™s metadata. You can fetch this hash value in three ways:

1. by querying from inside your app code: e.g. `git_ref = 'git rev-parse HEAD'.strip`
2. by querying our [metadata service](/{{page.collection}}/how-to-guides/deployment/querying-server-metadata.html)
3. by calling the [API deployment method](https://developers.cloud66.com/#deployment) which returns details on applications including `git_hash`
{% endif %}

{% if include.product == 'maestro' %}
## Querying git hashes for services

When we pull code from a git repo to build a service in Maestro, we store the most recent commit hash as an environment variable. You can fetch this hash value in three ways:

1. by querying the environment variable named `CLOUD66_SERVICE_GIT_REF`
2. by querying from inside your app code: e.g. `git_ref = 'git rev-parse HEAD'.strip`
3. by calling the [API container show method](https://developers.cloud66.com/#container-show) which returns details on services running in containers including `git_hash`

## Using Github with Maestro

For a tutorial on how to build code from Github into a service for use with Maestro, please follow our [Getting Started](/maestro/quickstarts/getting-started.html) guide which walks you through the process.

{% endif %}